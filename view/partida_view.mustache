<style>
    .fondo{
        background-size: 100%;
    }

    a{
        text-decoration: none;
    }

    li{
        list-style: none;
        padding: 5px;
        margin: 10px;
    }
    .opciones{
        background-color: rgba(255,255,255,1);
        border-radius: 10px;
        font-size: 20px;
        text-align: center;
        margin-top: 10px;
    }
    .opciones:hover{
        background-color: rgba(0,0,0,0.5);
        transition: 0.2s;
        box-shadow: 1px 1px 3px black;
        color: white;
    }
    body{
        margin-top: 100px;
    }

    #myProgress {
        margin-left: 20%;
        width: 60%;
        background-color: #e5e5e5;
    }

    #myBar {
        width: 100%;
        height: 10px;
        background-color: #000610;
    }
</style>

<body>
<div class="container mt-5">
    <h1 class="text-center">Preguntontas</h1>
    <div id="myProgress" {{#error}}class="d-none"{{/error}} class="mb-5 p-0">
        <div id="myBar">

        </div>
    </div>
    <div class="card text-dark bg-light mx-auto" style="max-width: 800px; border-radius: 20px;">
        {{#pregunta}}
            <div class="card-body">
                <h2 class="card-title">{{Pregunta}}</h2>
            </div>
        {{/pregunta}}
        {{#respuestas}}
            <a href="/juego/respuesta/id={{opcioncorrecta}}" class="list-group-item list-group-item-action opciones">
            {{opcion}}
            </a>
        {{/respuestas}}
        {{#check}}
            <div class="card-body">
                {{check}}
                <h2 class="card-text"><a href="/juego/partida" class="btn btn-primary">Nueva partida</a></h2>
            </div>
        {{/check}}
        {{#racha}}
            <div class="card-body">
                <p class="card-text">Tu racha es de: {{racha}}</p>
            </div>
        {{/racha}}

        {{#idPregunta}}
            <div class="card-body">
                <button type="button" class="btn btn-sm btn-dark btn-11"
                        onclick="reportarPregunta('{{idPregunta}}')">Reportar pregunta
                </button>
            </div>
        {{/idPregunta}}
    </div>

    <script src="/public/js/tiempo_partida.js"></script>

    <script>
        function reportarPregunta(value) {
            let data = {
                id_pregunta: value
            };

            let xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function () {
                if (this.readyState === 4) {
                    if (this.status === 200) {
                        alert('La pregunta fue reportada con exito!');
                    } else {
                        alert('Error en la solicitud :' + this.status + ", " + this.statusText);
                    }
                }
            };

            xmlhttp.open("PUT", "/juego/reportarPregunta", true);
            xmlhttp.setRequestHeader("Content-Type", "application/json");
            xmlhttp.send(JSON.stringify(data));
        }
    </script>

</body>